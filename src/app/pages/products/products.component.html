<div class="m-5" style="background-color: aquamarine; height: 100%">
  <div class="row">
    <div class="col-sm-12 col-lg-3" style="background-color: bisque">
      <div class="row">
        <div class="col">
          <span class="headFont m-2">All Products</span>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 my-2 col-sm-4 m-2">
          <mat-accordion class="example-headers-align" multi>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title> Categories </mat-panel-title>
              </mat-expansion-panel-header>

              <div *ngFor="let subtask of category; let i = index">
                <form #myForm="ngForm">
                  <mat-checkbox
                    type="checkbox"
                    #a="ngModel"
                    [(ngModel)]="shown[i]"
                    name="{{ i }}"
                    (click)="getCategory(a.value, subtask)"
                    >{{ subtask }} {{ i }}
                  </mat-checkbox>
                </form>
              </div>

              <div *ngIf="shown">
                <p>abc</p>
              </div>

              <form [formGroup]="form" (ngSubmit)="submit()">
                <div class="form-group">
                  <label for="website">Website:</label>

                  <div *ngFor="let web of category">
                    <label>
                      <input
                        type="checkbox"
                        [value]="web"
                        (change)="onCheckboxChange($event)"
                      />

                      {{ web }}
                    </label>
                  </div>
                </div>

                <button
                  class="btn btn-primary"
                  type="submit"
                  [disabled]="!form.valid"
                >
                  Submit
                </button>
              </form>

              <!-- <button mat-raised-button (click)="applyCategory(checkBox.value)">Apply</button> -->

              <!-- <checkbox-group [(ngModel)]="selectedItems">
                    <mat-checkbox value="item1">Item 1</mat-checkbox>
                    <mat-checkbox value="item2">Item 2</mat-checkbox>
                    <mat-checkbox value="item3">Item 3</mat-checkbox>
                    <mat-checkbox value="item4">Item 4</mat-checkbox>
                  </checkbox-group>
                  <p>Selected items - {{selectedItems | json}}</p> -->
            </mat-expansion-panel>
          </mat-accordion>
        </div>

        <div class="col-lg-12 col-sm-4 m-2">
          <mat-accordion class="example-headers-align" multi>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title> Color </mat-panel-title>
              </mat-expansion-panel-header>

              <div *ngFor="let subtask of categoryColor; let i = index">
                <label>
                <input
                  type="checkbox"
                  id="{{ i }}"
                  class="categoryClass"
                  (click)="getColor(subtask)"
                />

                {{ subtask }} {{ i }}
              </label>
              </div>

              <button mat-raised-button (click)="applyColor()">Apply</button>
              

              <mat-form-field>
                <mat-label>Age</mat-label>
                <input matInput type="number" min="1" />
              </mat-form-field>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
      </div>
    </div>
    <div class="col-8" style="background-color: cadetblue">
      <!-- <app-homepage-card></app-homepage-card> -->
      <div class="row">
        <div
          class="col-sm-6 col-lg-4 mb-4 card-margin"
          *ngFor="
            let product of productList.product_details
              | filter: dataCategory:'category_id':'category_name'
              | filterColor: colorCategory:'Color_id':'color_name'
              | sort:['product_cost']
              | paginate: { itemsPerPage: 4, currentPage: p }
          "
        >
          <mat-card class="example-card">
            <img
              mat-card-image
              src="{{ product.product_image }}"
              alt="Photo of a Shiba Inu"
            />
            <mat-card-content>
              <h2 style="text-align: center">
                {{ product.category_id.category_name }}
              </h2>

              <div style="text-align: center">
                <star-rating
                  [value]="4.7"
                  checkedcolor="#ffcc00"
                  uncheckedcolor="#ffff99"
                  size="24px"
                  [readonly]="true"
                ></star-rating>
                <h3 style="text-align: center">
                  &#8377; {{ product.product_cost }}
                </h3>
                <button
                  mat-raised-button
                  color="primary"
                  style="text-align: center"
                >
                  Add to Cart
                </button>
              </div>
            </mat-card-content>
            <mat-card-actions> </mat-card-actions>
          </mat-card>
        </div>
      </div>
      <pagination-controls
        class="textCenter"
        (pageChange)="p = $event"
      ></pagination-controls>
    </div>
  </div>
</div>
